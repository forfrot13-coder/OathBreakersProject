<div x-show="currentTab === 'inventory'" x-cloak x-transition.opacity.duration.300ms>
    <h2 class="text-xl font-bold text-purple-400 mb-4">کیف کارت‌ها</h2>

    <div class="grid grid-cols-3 gap-2 pb-20">
        <template x-for="card in myCards" :key="card.id">
            <div @click="selectCardAction(card.id)"
                 class="inventory-card relative bg-gray-900 rounded-lg overflow-hidden cursor-pointer group border transition-all card-tilt-3d"
                 :class="{
                    'rarity-glow-COMMON': card.rarity === 'COMMON',
                    'rarity-glow-RARE': card.rarity === 'RARE',
                    'rarity-glow-EPIC': card.rarity === 'EPIC',
                    'rarity-glow-LEGENDARY': card.rarity === 'LEGENDARY'
                 }">

                <div class="aspect-[3/4] w-full relative overflow-hidden">
                    <img :src="card.image" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                    <div class="absolute top-0.5 right-0.5 px-1 rounded text-[7px] font-bold backdrop-blur-md bg-black/60 text-white border border-white/10"
                         :class="{
                            'text-gray-300': card.rarity === 'COMMON',
                            'text-blue-300': card.rarity === 'RARE',
                            'text-purple-300': card.rarity === 'EPIC',
                            'text-yellow-300': card.rarity === 'LEGENDARY'
                         }"
                         x-text="card.rarity.substring(0, 1)">
                    </div>
                    <!-- Legendary shimmer effect -->
                    <div x-show="card.rarity === 'LEGENDARY'"
                         class="absolute inset-0 bg-gradient-to-r from-transparent via-yellow-500/20 to-transparent animate-legendary-shine pointer-events-none">
                    </div>
                </div>

                <div class="p-1.5 bg-black/90 backdrop-blur border-t border-white/10">
                    <div class="font-bold text-[9px] text-white truncate text-center mb-1" x-text="card.card_name"></div>
                    <div class="flex justify-between items-end leading-none">
                        <div class="text-[8px] text-green-400 font-mono flex items-center gap-0.5">
                            <span>⚡</span>
                            <span x-text="card.mining_rate"></span>
                        </div>
                        <div class="text-[7px] text-gray-400 font-mono">
                            <span class="text-white" x-text="'#' + card.serial_number"></span>
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <div x-show="myCards.length === 0" class="col-span-3 py-10 text-center text-gray-500">
            کیف شما خالی است.
            <button @click="openMarket()" class="block mx-auto mt-2 text-blue-400 text-xs">خرید از مارکت</button>
        </div>
    </div>
</div>
